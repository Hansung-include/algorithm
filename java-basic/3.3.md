# 3. 반복문과 배열 그리고 예외처리

## 3.3 배열

### 배열이란?

* 배열은 인덱스와 인덱스에 대응하는 데이터들로 이루어진 연속적인 자료 구조이다.

* 같은 종류의 데이터들이 순차적으로 저장된다.

* 배열 생성하기 예시

  * ```java
    int i [] = new int[10];	// 10개의 정수 공간 배열 생성. 배열의 이름은 i
    ```

* 배열을 사용하는 가장 큰 이유: 반복문

  * for문으로 10개의 정수합을 간단히 구한다.

  * ```java
    for(sum = 0, n = 0; n<10; n++)
        sum = += i[n];
    ```

### 배열 선언 및 생성

* 자바에서 배열의 생성은 c/c++과 달리 다음 두 단계로 이뤄진다.

  * 배열에 대한 레퍼런스 변수 선언

    * 레퍼런스 변수: 배열에 대한 주소값을 가지는 변수

    * ```java
      // 배열 선언문
      int intArray [];	// 배열 타입, 배열에 대한 레퍼런스 변수, 배열 선언
      int [] intArray;	// 이렇게 선언해도 됨
      ```

    * 이 선언만으로 배열 공간이 할당되지 않는다.

    * 레퍼런스 변수 intArray만 생성된다.

    * intArray는 배열공간에 대한 주소 값(레퍼런스 값)을 가지며 그 자체가 배열은 아니다.

    * 아직 정수를 저장할 배열 공간이 생성되지 않았으므로 intArray값은 null이다.

    * 레퍼런스: 배열의 주소

    * 배열 선언 시 []에 크기를 지정하면 안 됨

      * ```java
        int intArray[10];	// 컴파일 오류: 배열의 크기를 지정할 수 없음
        ```

  * 배열 생성 - 배열의 저장 공간 할당

    * ```java
      intArray = new int [5];	// 배열에 대한 레퍼런스 변수, 배열 생성, 타입, 원소 개수
      ```

    * 데이터를 저장할 배열 공간을 할당받는 과정.

    * 반드시 new 연산자를 이용하여 배열 생성

  * 배열의 선언과 동시에 생성하기

    * ```java
      int intArray[] = new int[5]
      ```

* 배열 초기화

  * 배열 선언문에서 {  }에 원소를 나열하면 초기화된  배열을 만들 수 있다.

    * ```java
      int intArray[] = {4, 3, 2, 1, 0};	// 배열의 크기는 자동으로 5가 된다.
      double doubleArray[] = {0.01, 0.02, 0.03, 0.04};	// 배열의 크기는 자동으로 4.
      ```

      * 이때 생성되는 배열의 원소 개수는 {  }에 나열된 값으 개수로 정해짐로 []에 크기를 주면 안 됨

### 배열 인덱스와 배열 원소 접근

* 배열의 인덱스는 정수만 가능하다.

* 인덱스는 0부터 시작한다.

* 마지막 원소의 인덱스는 (배열의 크기 -1)이다.

* 배열의 원소는 인덱스를 이용하여 접근한다.

  * ```java
    int intArray[] = new int[5];	// 원소가 5개인 배열 생성. 인덱스는 0~4까지 가능
    intArray[0] = 5;				// 원소 0에 5 저장
    intArray[3] = 6;				// 원소 3에 6 저장
    int n = intArray[3];			// 원소 3의 값을 읽어 n에 저장. n은 6이 됨
    ```

### 레퍼런스 치환과 배열 공유

* 자바에서는 다수의 레퍼런스 변수가 하나의 배열공간을 가리키는 배열 공유가 쉽다.

  * ```java
    int intArray[] = new int[5];
    int myArray[] = intArray;	// 레퍼런스 치환: myArray는 intArray와 동일한 배열 참조
    ```

    * 이 치환으로 intArray 배열이 복사되는 것이 아니라, 레퍼런스 즉 배열에 대한 주소만 복사된다.

* 배열의 크기, length 필드

  * 자바는 배열을 객체로 다룬다.

  * 배열이 생성되면 객체가 생성된다

    * 이 객체에는 배열의 저장 공간과 함께 배열의 크기 값을 가진 length 필드가 존재한다.

  * length 필드를 이용하면 배열의 크기를 간단하게 알 수 있다.

    * ```java
      int intArray[] = new int[5];
      int size = intArray.length;		// size는 5
      ```

    * length 필드의 존재로, 배열의 크기를 따로 관리할 필요가 없다.

    * ```java
      for(int i = 0; i<intArray.length; i++)	// intArray 배열 크기(5)만큼 반복한다.
          System.out.println(intArray[i]);
      ```

* 배열과 for-each 문

  * 기존의 for문을 변형.

  * 배열이나 나열의 크기만큼 루프를 돌면서 각 원소를 순차적으로 접근(오라클에선 advenced for)

    * ```java
      for(변수 : 배열레퍼런스){
          .. 반복 작업문 ..
      }
      ```

  * 예시: 배열 n에 들어있는 모든 정수 더하기

    * ```java
      int [] n = { 1, 2, 3, 4, 5};
      int sum = 0;
      for (int k : n){	// n.length번 반복. k는 ㅜ[0], ..., n[4]로 번갈아 반복
          sum += k;
      }
      System.out.println("합은" + sum);
      ```

  * 문자도 가능

    * ```java
      String names[] = {"딸기", "당근", "수박", "참외", "메론"};
      for (String s : names){	// 반복할 때마다 s는 names[0], ..., names[4]로 설정
          System.out.print(s + " ");
      }
      ```

  * 나열도 가능(enum)

    * ```java
      enum Week{ 월, 화, 수, 목, 금, 토, 일};
      for (Week day : Week.values())	// 반복할 때마다 day는 월, 화, ..., 일로 설정
          System.out.print(day + "요일 ");
      ```